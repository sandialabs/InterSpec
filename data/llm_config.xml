<?xml version="1.0" encoding="UTF-8"?>

<!-- Warning: LLM capabilities are totally untested, and currently so incomplete that they are useless
for anything other than having a little fun with.  Also, there has been zero safety/security checks
or considerations, and it has only been tested to kinda-sorta work with a few LLMs.
-->

<!-- 
This is an example configuration file to enable using the "LLM Assistant" tool in InterSpec, and/or
for enabling the MCP server to allow an external LLM program to control analysis, or query for information.

To enable LLM capabilities, prefferably copy this file to your OS provided data directory for InterSpec (e.g., on Windows it is 
usually "C:\Users\<user>\AppData\Roaming\InterSpec", 
and macOS "/Users/<user>/Library/Containers/gov.sandia.macOS.InterSpec/Data/Library/Application Support/sandia.InterSpec",
but see "Help" > "About InterSpec" > "Data" for the actual location), then edit it to enable the LLM API, putting in your 
endpoint URL and bearer token, and/or enable the MCP server and add the required bearer token.

For desktop versions of InterSpec, if this configuration file is not valid (invalid XML, missing any field, not expected field 
data type, etc), the LLM capabilities will not be enabled, and only a message will be printed to stderr.

Changes to this file will not take effect until you quit all currently open instances of InterSpec, and then start it again.
-->
<LlmConfig version="0">

  <!-- LLM API Settings - this is for the interactive tool inside InterSpec that uses a LLM -->
  <LlmApi version="0">
    <Enabled>false</Enabled>

    <!-- A number of providers work, including locally running LLM models -->
    <ApiEndpoint>https://api.openai.com/v1/chat/completions</ApiEndpoint>
    <BearerToken>sk-...</BearerToken>
    <Model>gpt-5-mini</Model>
    <MaxTokens>62565</MaxTokens>
    <ContextLengthLimit>131072</ContextLengthLimit>
  </LlmApi>
  
  <!-- MCP Server Settings - this is for InterSpec to create a MCP server you can use with other applications.
  
  It will be avaiable at http://127.0.0.1:<port>/mcp-api, where port is the same on InterSpec instance is being
  served on - see `HttpPortToServeOn` in InterSpec_app_settings.json - by default it is a random high-numbered
  port.
   -->
  <McpServer version="0">
    <Enabled>false</Enabled>

    <!-- The bearer token required to access the MCP instance. If empty, no authorization will be required.
    But you must change this from "INVALID-BEARER-TOKEN" if you enable this capability.
     -->
    <BearerToken>INVALID-BEARER-TOKEN</BearerToken>
  </McpServer>
</LlmConfig>
