<?xml version="1.0" encoding="UTF-8"?>
<messages>
<!-- SAND2023-10095O -->

<!-- Potential additional topics to include:
  - How statistical significance tests are applied when (trying to) fit a peak
  - ...
-->

  <message id="intro">
    Это вопросы, которые задавали пользователи, или вещи, которые, как было замечено, вызывают проблемы
    или недопонимание при использовании <code>InterSpec</code>.<br />
    <br />
    Если у вас есть вопросы, что-то кажется сложнее, чем должно быть, у вас возникают трудности,
    или вы хотели бы запросить функции или сообщить об ошибке, пожалуйста, напишите:
    <div style="text-align: center; font-size: larger; margin-top: 5px;"><a href="mailto:InterSpec@sandia.gov">InterSpec@sandia.gov</a></div>
  </message>

  <message id="warm-start" title="Замечания для переходящих с другого спектроскопического программного обеспечения">
    <p>
      Если вы знакомы с другим пакетом спектрального анализа, пожалуйста, вам придется
      изменить свою ментальную модель того, как выполняется процедура анализа при использовании InterSpec.<br />      
      Но, надеемся, вы найдете методологию в <code>InterSpec</code> интуитивно понятной.<br />
      <br />
      Наиболее распространенное использование <code>InterSpec</code> основным разработчиком - это анализ собранных в полевых условиях
      спектров от широкого спектра систем детекторов и местоположений, где изотопы источников, экранирование, возраст
      и другая информация часто неизвестны. Таким образом, <code>InterSpec</code> фокусируется на гибком интерактивном
      анализе с поддерживающими инструментами для этого и для помощи в ответах на соответствующие вопросы для
      оценки ситуации, связанной с радиационными данными.<br />
      <code>InterSpec</code> не фокусируется на анализе повторяющихся измерений, создании формальных отчетов
      или использовании фиксированной методологии, но он пытается сделать обычные операции быстрыми и простыми.

      <br />
      Несколько заметных различий в ментальной модели между <code>InterSpec</code> и другими программными пакетами:
    </p>

    <ul>
      <li>
        В <code>InterSpec</code>, когда вы подгоняете пик (самый простой способ - двойным щелчком там, где пик выглядит на спектре),
        вы, вероятно, также хотите назначить нуклид этому пику одновременно.<br />
        Самый простой способ сделать это - если вы показываете опорные линии фотопиков при подгонке пика,
        ассоциация создается автоматически. Но после подгонки вы все еще можете создать или изменить назначение, щелкнув правой кнопкой мыши на пике,
        используя "Редактор пиков", вводя в ячейки "Нуклид" любой таблицы, содержащей информацию о пиках,
        или несколькими другими способами.<br />
        Назначение идентификатора нуклида пикам позволяет подгонку активности источника нуклида, калибровку энергии,
        выполнение анализа относительной эффективности, характеризации эффективности детектора и многое другое.
      </li>

      <li>
        <code>InterSpec</code> не использует пользовательские библиотеки нуклидов.<br />
        Вместо этого вы назначаете нуклиды пикам, и вы всегда можете выбирать нуклиды из общего числа ~4000 доступных нуклидов.
        Или при поиске нуклидов для идентификации пика используются все ~4k нуклидов.
        Если гамма-луч происходит от дочернего нуклида (например, гамма 1001 кэВ от распада Pa234m до U234 в цепи распада U238),
        вы назначаете пик родительскому нуклиду (например, пик 1001 кэВ будет назначен U238), и <code>InterSpec</code>
        выполнит расчеты распада для определения коэффициента ветвления конкретного гамма-излучения.
        Нуклиды, назначенные пикам, - это нуклиды, которые будут использоваться для подгонки активностей или выполнения других операций.
      </li>

      <li>
        Подгонка пиков лучше всего выполняется вручную в <code>InterSpec</code> - например, вы определяете, где вероятно находятся пики, а затем
        говорите InterSpec подогнать пик там (например, двойным щелчком по спектру рядом с пиком и т.д.).
        Это может показаться немного утомительным сначала, но это позволяет вам осторожно выполнять идентификацию нуклидов по ходу дела (назначая
        нуклид пику при его подгонке) и обеспечивать хорошие подгонки - процесс становится довольно быстрым на практике.
        <br />
        Если вы действительно хотите, чтобы пики автоматически подгонялись для вас, на вкладке "Менеджер пиков"
        есть кнопка "Поиск пиков", которая, если вы показываете опорные фотопики, может
        автоматически выполнить назначение нуклидов, но следует проявлять осторожность.

        <div style="border:1px solid black; width: 90%; margin-left: auto; margin-right: auto;">
          <div style="display: flex; align-content: space-around;">
              <img src="/InterSpec_resources/static_text/faqs/auto_peak_search_btn.png" style="height: 175px; max-width: 49.5%;" />
              <img src="/InterSpec_resources/static_text/faqs/auto_peak_search_dialog.png" style="height: 175px; max-width: 49.5%;" />
          </div>
          <div align="center" style="padding-top: 10px; padding-bottom: 10px">
             (слева) Кнопка для выполнения автоматического поиска пиков для всех пиков в вашем основном спектре.<br />
             (справа) Результаты выполнения автоматического поиска; если вы показываете опорные линии фотопиков, у вас есть
             возможность назначить этот нуклид пикам и оставить только пики рядом с опорными линиями фотопиков.
          </div>
        </div>
        Есть также опции для автоматической подгонки тех же пиков от одного спектра к следующему; см. тему "Работа со спектрами с похожими нуклидами"
        в этом документе.
      </li>  
      
      <li>
        <code>InterSpec</code> предназначен только для анализа данных - он не имеет никаких возможностей сбора данных; это предотвращает привязку приложения
        к конкретному типу детектора или предположениям об оборудовании или производительности. Четкое разделение анализа
        от сбора также упрощает и проясняет пользовательский интерфейс.
      </li>

      <li>
        Для подгонки пиков, идентификации нуклидов, калибровки энергии, изотопных отношений и ряда других функций
        функция отклика детектора не нужна.
      </li>
    </ul>
  </message>


  <message id="save-work" title="Сохранение вашей работы">
    У вас есть несколько вариантов сохранения вашей работы в <code>InterSpec</code>
    <ul>
      <li>
        Вы можете сохранить "состояние приложения" во внутреннюю базу данных приложения, используя опцию меню <code>Сохранить как...</code>.
        Большинство аспектов состояния приложения сохраняются (отображаемые файлы спектров, подогнанные пики, идентификации нуклидов, большинство инструментов,
        которые в настоящее время открыты, и их состояние и т.д.), поэтому вы можете продолжить с того места, где остановились позже. Вы также можете создавать "метки"
        или снимки вашей работы, чтобы вернуться позже.
        <br />
        После сохранения состояния, если вы загрузите один из его файлов спектра позже, <code>InterSpec</code> проверит свою внутреннюю базу данных,
        чтобы увидеть, работали ли вы с ним, и если да, вам будет дана возможность продолжить с того места, где вы остановились.
        <br />
        Смотрите вкладку <code>данные</code> в диалоге <code>О программе InterSpec</code> для информации о том, где эти данные находятся на вашем компьютере
        (или эквивалентно <a href="interspec://about/disclaimer">щелкните здесь</a>).
      </li>
      <li> 
        Экспорт спектров в файл <code>N42-2012</code> через пункт меню <code>Экспорт файла...</code> сохранит все
        подогнанные вами пики, идентификации нуклидов, изменения калибровки энергии, а также результаты "Подгонки активности/экранирования",
        вашу текущую функцию отклика детектора (DRF), результаты "Изотопики из пиков", "Изотопики по нуклидам"
        и несколько других вещей.<br />
        Затем вы можете загрузить файл <code>N42-2012</code> позже в <code>InterSpec</code> и продолжить с того места, где остановились, или
        иметь запись о том, как вы получили конкретный ответ. Однако состояние более мелких инструментов, таких как калькуляторы поперечного сечения или
        дозы, не будет сохранено в файле <code>N42-2012</code>.
      </li>
      <li>
        В различных инструментах по всему приложению вы можете экспортировать <code>CSV</code>, <code>XML</code>, <code>CALp</code> или <code>QR-коды</code> для представления
        состояния этого инструмента. Эти файлы часто можно перетащить обратно в приложение для использования этой работы.
        Например, вкладка "Менеджер пиков" имеет ссылку экспорта <code>CSV</code>; полученный файл <code>CSV</code> можно использовать с
        другими программами, или если вы перетащите его обратно в <code>InterSpec</code>, даже с другим, но похожим файлом спектра,
        <code>InterSpec</code> подгонит те же пики. Аналогично с калибровкой энергии и файлами CALp.
        Инструмент "Подгонка активности/экранирования" может экспортировать XML-файл, который вы можете импортировать позже для использования похожей настройки.
        И QR-коды также содержат URI-ссылки, которые можно использовать, чтобы заставить <code>InterSpec</code> открыть определенный инструмент в определенном состоянии
        (например, <a href="interspec://decay/chart%3fgrid%3d0%26logy%3d0%26actunits%3dci%26charttype%3dactivity%26timespan%3d20%20d%26nuc%3dI131%26act%3d1%20uCi%26nuc%3dI129%26act%3d1.5%20uCi">эта ссылка</a> откроет инструмент распада для отображения I131 и I129).
      </li>
      <li>
        Есть также опция "Автоматически сохранять вашу работу", которая сохраняет большинство ваших изменений/работы во
        внутренней базе данных, упомянутой выше (это происходит при чистом выходе из InterSpec), но в настоящее время, начиная с
        <code>InterSpec</code> v1.0.11, единственный способ восстановить эту работу - загрузить файл основного спектра
        снова (например, перетащив файл в <code>InterSpec</code>), пока
        опция "Проверить предыдущую работу" установлена в true; вам будет предложено, хотите ли вы возобновить
        с вашего старого состояния.<br />
        Однако этот метод потенциально ненадежен и, вероятно, не следует на него полагаться.
      </li>
    </ul>
  </message>


  <message id="orig-file-mod" title="Изменяется ли исходный файл спектра?">
    Когда вы загружаете файл спектра в <code>InterSpec</code>, он читается в память
    без изменения исходного файла; исходный файл никогда не читается, не записывается
    и не используется снова.
  </message>

  <message id="mult-open-files" title="Открытие нескольких файлов спектров">
    <p>
      Когда вы открываете новый файл спектра, любые ранее открытые файлы спектров и вся работа, которую вы с ними проделали
      (калибровка энергии, подогнанные пики, назначенные нуклиды, подгонки активности/экранирования и т.д.) остается в памяти.
      Как показано ниже, вы можете переключаться между открытыми файлами спектров, не теряя работу.
    </p>
    <div style="border:1px solid black; width: 90%; margin-left: auto; margin-right: auto;">
      <div style="display: flex; align-content: space-around;">
          <img src="/InterSpec_resources/static_text/faqs/changing_spec_files.png" style="max-height: 150px; width: 49.5%;" />
          <img src="/InterSpec_resources/static_text/faqs/spec_meas_manager_1.png" style="max-height: 150px; width: 49.5%;" />
      </div>
      <div align="center" style="padding-top: 10px; padding-bottom: 10px">
         (слева) Использование вкладки "Файлы спектров" для переключения между отображением и работой с различными файлами спектров в памяти.<br />
         (справа) Использование "Менеджера спектров" (используйте пункт меню <code>Менеджер...</code> для отображения) для выбора файлов в памяти для отображения, или для объединения или экспорта файлов.
      </div>
    </div>

    <p>
      Когда файл спектра содержит несколько образцов (например, и объект интереса, и фоновый спектр),
      подогнанные вами пики связаны с <em>номерами образцов</em>, которые вы отображаете как основной.
      Поэтому, если на вкладке "Файлы спектров" вы измените, какие образцы отображаются как основной,
      ваши подогнанные пики больше не будут отображаться, и вы можете подогнать новые пики для текущего отображаемого основного
      образца; если вы переключитесь обратно к исходным номерам образцов, ваши исходные пики будут отображены снова.<br />
      Если один или несколько ваших сигнальных пиков совпадают с фоновым пиком, вы можете отобразить фоновый
      спектр как основной, подогнать пики в нем, а затем переключиться обратно к вашему сигнальному спектру как основному,
      с фоновым образцом, отображаемым как фон, и когда вы подгоняете активность нуклида, у вас будет
      опция вычесть ваши фоновые пики из основных пиков.
    </p>
    <p>
      Состояния инструментов "Подгонка активности/экранирования", функция отклика детектора, "Изотопики из пиков",
      "Изотопики по нуклидам" и несколько других инструментов связаны с файлом основного спектра
      в памяти. То есть, если вы измените, какие номера образцов отображаются как основной в файле спектра,
      состояния этих инструментов не изменятся.
    </p>
    <p>Эти ассоциации пиков с <em>номерами образцов</em>, а также калибровки энергии, будут сохранены,
      если вы экспортируете файл спектра в формате <code>N42-2012</code>; различные состояния инструментов также будут
      сохранены в файле <code>N42</code>.
    </p>
    <p>
      Наличие множества открытых файлов спектров обычно не вызывает проблем; если использование памяти открытых
      файлов спектров превышает около 256 МБ, то файлы спектров будут выгружены во временные файлы подкачки
      и бесшовно прочитаны обратно в память, если вы переключитесь обратно к их отображению.<br />
      Однако есть опция меню <code>Очистить сессию</code>, которая эффективно удалит
      все файлы спектров из памяти и вернет пользовательский интерфейс в свежее состояние.
    </p>
  </message>

  <message id="sample-nums-dets" title="Понимание номеров образцов и названий детекторов">
    Некоторые системы радиационного детектирования предоставляют выходные файлы спектров, которые могут иметь несколько
    образцов в них; то есть, измерения, сделанные в разное время. Вы можете выбрать, какие
    из этих образцов отображаются в качестве основного/фонового/вторичного спектра
    на вкладке "Файлы спектров"; вы можете отображать отдельные <em>номера образцов</em>,
    объединять несколько номеров образцов и/или указывать диапазоны.
    <br />
    Некоторые системы могут иметь несколько элементов детектирования, спектры которых отдельно записываются
    в файле спектра. Отдельные элементы детектирования будут названы в <code>InterSpec</code>,
    и вы можете выбрать, какие из них отображать в меню <b>Вид</b> → <b>Детекторы</b>.
    Названия детекторов часто указаны в файле спектра, но если нет, <code>InterSpec</code>
    выберет названия по умолчанию.
    <br />
    <em>Номера образцов</em> и детекторы, которые вы выбираете для отображения как основной, или фоновый,
    или вторичный спектр, суммируются вместе для отображения, или подгонки пиков, или чего-то еще.

    <div style="border:1px solid black; width: 90%; margin-left: auto; margin-right: auto;">
      <div style="display: flex; align-content: center;">
          <img src="/InterSpec_resources/static_text/faqs/sample_dets.png" style="max-height: 250px; max-width: 49.5%;" />
      </div>
      <div align="center" style="padding-top: 10px; padding-bottom: 10px">
        Пример проходного файла спектра, который имеет образцы от 82 до 94, загруженные как основной,
        образцы от 1 до 20 как фоновый, и отображается только два из восьми детекторов в
        системе детектирования.
      </div>
    </div>

    <p>
      При чтении файла спектра, если есть несколько детекторов, спектры обычно группируются
      вместе в соответствии с тем, когда были сделаны измерения; то есть, все спектры для данных <em>номеров образцов</em>
      <i>обычно</i> будут иметь одинаковое время начала измерения.
    </p>
    <p>
      Набор <em>номеров образцов</em>, отображаемых как основной, - это то, с чем связаны подогнанные вами пики; отображаемые
      детекторы (если система измерений имела более одного детектора) не влияют на ассоциации пиков. Если вы подгоняете
      пики для данного набора <em>номеров образцов</em>, затем меняете отображаемые номера образцов и, возможно, подгоняете
      другие пики, затем возвращаетесь к исходным номерам образцов, ваши исходные пики будут отображены.
    </p>
    <p>
      На вкладке "Файлы спектров" вы можете указать, какие <em>номера образцов</em> отображаются, вручную
      вводя номера образцов в форматах типа "1" (только образец 1), "1-5" (образцы от 1 до 5),
      "1-3,8,12-20,10" (образцы от 1 до 3, 8, от 12 до 20 и 10).
    </p>
    <p>
      Если данные представляют собой данные режима поиска или портального режима, под спектром также будет отображена временная диаграмма; вы можете использовать эту временную диаграмму
      для выбора <em>номеров образцов</em> основного, фонового и вторичного спектров.
      (подсказка: используйте <img src="/InterSpec_resources/images/more_menu_icon.svg" style="display: inline-block; height: 15px;"></img>
      меню в правом верхнем углу временной диаграммы для помощи в управлении режимом выбора).
    </p>
  </message>

  <message id="multi-iso-peak" title="Вклады в пик от нескольких изотопов">
    <p>
      В пользовательском интерфейсе <code>InterSpec</code> только одиночная конкретная гамма или рентгеновское излучение от
      цепи распада одного нуклида может быть назначена подогнанному пику.<br />
      Однако обычно несколько гамм-излучений или рентгеновских лучей из цепи распада нуклидов могут вносить вклад в
      подогнанный пик. Или может быть, что гамма или рентгеновское излучение от совершенно другого родительского нуклида также
      вносит вклад в пик.
    </p>
    <p>
      При выполнении анализа "Подгонка активности/экранирования" или "Изотопики из пиков" есть
      опция "<em>Несколько нуклидов вносят вклад в пик</em>":
      <img src="/InterSpec_resources/static_text/faqs/mult_nuc_contrib_cb.png" style="display: block; height: 20px; margin-left: 20px"></img>
      Когда эта опция выбрана (что по умолчанию), вклады от всех гамм и рентгеновских лучей в пределах 1,25 FWHM от среднего значения пика,
      от любого нуклида, связанного с любыми из используемых пиков, будут включены. Это показало, что обычно хорошо справляется
      с учетом интерференций.
      <br />
      Обычно нуклид (и, следовательно, гамма/рентгеновское излучение), который вы назначаете пику, является доминирующим вносящим источником для
      пика. Однако иногда нуклид может не быть доминирующим источником для любого наблюдаемого фотопика; в этих случаях
      нормально выбрать любой из пиков, в которые нуклид вносит вклад, и назначить пик нуклиду. Тогда для
      этого пика и любого другого пика, в который нуклид вносит вклад, (ожидаемые) амплитуды будут все правильно
      рассчитаны и включат рассматриваемый нуклид.
    </p>
  </message>

  <message id="background-peak-fit" title="Учет пиков в фоне">
    Вы можете подгонять пики только для текущего отображаемого основного спектра; однако, если вы хотите подогнать
    пики для фонового спектра измерений, вы можете использовать вкладку "Файлы спектров" для отображения
    фонового измерения как основного спектра. Затем вы можете подогнать пики и переключиться обратно к показу
    спектра объекта интереса как основного, а фона измерений как отображаемого фонового
    спектра.<br />
    Затем в инструменте "Подгонка активности/экранирования" и в нескольких других местах вы можете выбрать опцию вычесть
    пик фонового спектра. Использование этого метода подгонки фоновых пиков имеет преимущество в том, что
    <code>InterSpec</code> правильно учтет неопределенности при расчете активностей и экранирования. Если вы
    делаете "Жесткое вычитание фона...", дисперсия данных в каждом канале в настоящее время теряется, и подгонки пиков
    будут иметь искусственно низкую статистическую неопределенность.
  </message>

  <message id="fit-source-over-background-peaks" title="Фоновая коррекция активностей">
    Пожалуйста, см. тему непосредственно выше.
  </message>

  <message id="create-drf" title="Создание функций отклика детектора (DRF)">
    <code>InterSpec</code> позволяет импортировать функции отклика детектора (DRF) из
    нескольких общих источников, но вы также можете использовать <code>InterSpec</code> для создания DRF
    для вашего детектора.
    <br/>
    Пожалуйста, см.
    <a target="_blank" href="https://sandialabs.github.io/InterSpec/tutorials/#making-a-detector-response-function">https://sandialabs.github.io/InterSpec/tutorials/#making-a-detector-response-function</a>
    для описания процесса.
  </message>

  <message id="re-using-drfs" title="Повторное использование функций отклика детектора (DRF)">
    После того как у вас есть DRF в <code>InterSpec</code>, есть несколько способов повторно использовать их в будущем:
    <ul>
      <li>
        Когда вы создаете DRF в <code>InterSpec</code> и нажимаете кнопку "Сохранить/Экспорт...",
        вам будет показано:
        <img src="/InterSpec_resources/static_text/faqs/drf_save_dialog.png" style="height: 150px; max-width: 90%; display: block; margin-top: 10px; margin-bottom: 10px; margin-left: auto; margin-right: auto;" />
        Вы можете экспортировать DRF как файл <code>CSV</code>, который позже можете перетащить обратно в <code>InterSpec</code> для
        использования, вы можете выбрать сохранение DRF во внутренней базе данных <code>InterSpec</code>, которую можно
        легко извлечь позже. Или если вы экспортируете файл <code>N42-2012</code>, DRF будет
        сохранена там для последующего использования. Справочная карточка будет содержать QR-код, который
        имеет всю информацию о DRF, встроенную в него, которую вы можете отсканировать позже для использования DRF.<br />
        Есть также опция использовать этот DRF автоматически каждый раз, когда вы загружаете данные либо с
        конкретного детектора, либо той же модели детектора.
      </li>
      <li>
        <code>InterSpec</code> сохраняет ранее использованные DRF в своей внутренней базе данных; если вы нажмете на кнопку выбора DRF, расположенную
        в различных местах по всему приложению и выглядящую как:
        <img src="/InterSpec_resources/static_text/faqs/drf_select_btn.png" style="height: 20px; display: block; margin-left: 20px" />
        Вы можете выбрать вкладку "Предыдущие" и прокрутить через DRF.<br />
        Интерфейс выглядит так:
        <img src="/InterSpec_resources/static_text/faqs/drf_prev_dialog.png" style="height: 150px; max-width: 90%; display: block; margin-top: 10px; margin-bottom: 10px; margin-left: auto; margin-right: auto;" />
      </li>
      <li>
        В нижней части диалога выбора DRF, показанного выше, есть опции для экспорта DRF в XML-файл, который позже можно
        перетащить в <code>InterSpec</code> для использования, или вы можете отобразить QR-код, который встроит информацию о DRF
        в QR-код. В диалоге QR-кода также есть опция скопировать URI, который будет выглядеть примерно как
        <code>interspec://drf/specify?CREATED%3d1682954314%...</code>, который вы можете поместить в гиперссылку где-то и нажать на неё,
        вставить в адресную строку веб-браузера, чтобы ваша операционная система затем открыла в <code>InterSpec</code>, или
        вы можете вставить URI в диалог, созданный пунктом меню <b>Редактировать</b> → <b>Ввести URL</b> в <code>InterSpec</code>.
      </li>
      <li>
        DRF также сохраняется в файлы спектров <code>N42-2012</code>, поэтому если вы загружаете файл позже, DRF будет
        автоматически использована.
      </li>
    </ul>
  </message>

  <message id="using-default-drfs" title="Использование встроенных функций отклика детектора (DRF)">
    <code>InterSpec</code> поставляется с рядом функций отклика детектора (DRF) для общих карманных
    радиационных детекторов; он также поставляется с несколькими универсальными функциями отклика.<br />
    Если модель радиационного детектора может быть определена из файла спектра, и есть DRF по умолчанию
    для этой модели, при загрузке файла спектра также будет загружена DRF по умолчанию.<br />
    Если DRF по умолчанию не загружена, или загружена неправильная DRF, вы можете нажать или коснуться
    иконки выбора детектора:

    <img src="/InterSpec_resources/static_text/faqs/drf_select_btn_empty.png" style="height: 20px; display: block; margin-top: 5px; margin-bottom: 5px; margin-left: 35px;" />
    
    Затем вам будет представлен диалог, где нажатие на вкладку "<b>GADRAS</b>"
    предоставит некоторые универсальные опции DRF, или выбор вкладки "<b>Отн. Эфф.</b>" будет
    представлять вам список конкретных моделей детекторов для выбора.<br />

    <img src="/InterSpec_resources/static_text/faqs/drf_select_defaults.png" style="height: 170px; max-width: 90%; display: block; margin-top: 10px; margin-bottom: 10px; margin-left: auto; margin-right: auto;" />
    
    Вы можете нажать иконку <img src="/InterSpec_resources/images/plus_min_black.svg" style="display: inline-block; height: 15px;"></img>
    для импорта большего количества DRF из файлов, которые вы можете выбрать для сохранения, чтобы они также были в этом диалоге/вкладке в будущем.
  </message>

  <message id="input-spectrum-file-formats" title="Принимаемые форматы входных файлов спектров">
    <code>InterSpec</code> стремится поддерживать общие типы файлов спектров, производимые коммерчески доступными детекторами, а
    также ряд индивидуальных и текстовых форматов.
    <p>
      Если вы сталкиваетесь с форматом файла спектра, не поддерживаемым <code>InterSpec</code>, пожалуйста, отправьте
      пример файла на <a href="mailto:interspec@sandia.gov">InterSpec@sandia.gov</a> вместе с любой
      документацией, которая у вас может быть.<br />
      Однако доступность разработчика для реализации очень ограничена, поэтому приоритет будет отдан широко или
      стратегически используемым форматам.<br />
      Вы также можете реализовать поддержку формата файла спектра в
      <a target="_blank" href="https://github.com/sandialabs/SpecUtils">https://github.com/sandialabs/SpecUtils</a> для включения
      в <code>InterSpec</code>.
    </p>
    
    <p>
      <code>InterSpec</code> может экспортировать спектры в следующие форматы: <code>N42-2012</code>, 
      <code>N42-2006</code>, <code>CHN</code>, <code>IAEA</code>, <code>SPE</code>, <code>CSV</code>, 
      <code>TXT</code>, <code>PCF</code>, <code>CNF</code>, <code>SPC</code> (с плавающей точкой, целочисленный и ascii),
       <code>TKA</code>, <code>EXPLORANIUM GR-130/135</code>, самодостаточный HTML файл, QR-коды и 
       <code>raddata://</code> URI 
       (см. <a target="_blank" href="https://sandialabs.github.io/InterSpec/tutorials/references/spectrum_in_a_qr_code_uur_latest.pdf">здесь</a>).
    </p>
  </message>

  <message id="marinelli-meas" title="Использование мариинеллиевского стакана и других фиксированных геометрий">
    <p>
    Для определения активностей для мариинеллиевского стакана или других фиксированных геометрий, где нормальное приближение функции отклика детектора дальнего поля нарушается (то есть, расстояние между источником и
    детектором меньше примерно трех размеров наибольшего из размеров детектора и источника), вам потребуется
    специализированная функция отклика детектора (DRF).
    </p>

    <p>
      В случае мариинеллиевского стакана часто используется многоизотопный калибровочный стандарт для расчета
      энергетически зависимой эффективности детекторов. В этом случае вы можете использовать инструмент "Создать отклик детектора"
      для создания DRF. Вы можете либо ввести произвольное расстояние (например, 1 метр), а затем позже при
      подгонке активности использовать это же расстояние (и обычно без экранирования), либо начиная с
      <code>InterSpec</code> v1.0.12, есть опция "Фиксированная геометрия", которую можно отметить в
      инструменте <em>Создать отклик детектора</em>, что удалит ввод расстояния как из этого инструмента, так и из
      инструмента "Подгонка активности/экранирования".
      "Фиксированная геометрия" в инструменте <em>Создать отклик детектора</em> обведена ниже:
      <img src="/InterSpec_resources/static_text/faqs/make_drf_fixed_geom.png" style="height: 150px; max-width: 90%; display: block; margin-top: 10px; margin-bottom: 10px; margin-left: auto; margin-right: auto;" />
    </p>
    
    <p>
      Для геометрий, таких как измерения загрязнения почвы <em>in-situ</em> (например, детектор на 1 метр от
      земли, направленный вниз), где многоизотопные калибровочные стандарты непрактичны для получения эффективностей,
      вам нужно будет рассчитать эффективности каким-то другим способом, обычно используя что-то вроде метода Монте-Карло или
      программу моделирования типа
      <a target="_blank" href="https://www.mirion.com/products/technologies/spectroscopy-scientific-analysis/gamma-spectroscopy/gamma-spectroscopy-software/lab-applications/s573-isocs-calibration-software">Mirion ISOCS</a>.
      <br />
      Начиная с <code>InterSpec</code> v1.0.12, вы можете импортировать <em>.ecc</em> файлы, производимые ISOCS,
      в <code>InterSpec</code>, перетащив <em>.ecc</em> файл на <code>InterSpec</code>,
      что приведет к диалогу, похожему на:
      <img src="/InterSpec_resources/static_text/faqs/isocs_ecc_import.png" style="height: 150px; max-width: 90%; display: block; margin-top: 10px; margin-bottom: 10px; margin-left: auto; margin-right: auto;" />
    </p>
    
    <p>
      Если некоторая ошибка моделирования приемлема, использование инструмента "Подгонка активности/экранирования" со стандартной
      <em>дальнепольной</em> DRF часто, кажется, дает приемлемые результаты; например, анализ измерений <em>in-situ</em>
      (то есть, детектор на 1 метр от земли, направленный вниз) в <code>InterSpec</code> обычно
      согласуется в пределах 10% или лучше с методами/пакетами, которые правильно учитывают угловую зависимость отклика детектора
      (по крайней мере для энергий выше или около нескольких сотен кэВ, низкие энергии, вероятно,
      имели бы большие ошибки).
      Но также обратите внимание, что для очень близких измерений (то есть, образец менее чем ~10 см от детектора) каскадное суммирование может стать значительным, приводя
      к ошибкам до 30% или около того, только из-за этого эффекта, который <code>InterSpec</code> в настоящее время не учитывает.
    </p>
  </message>

  <message id="soil-contamination" title="Определение поверхностного загрязнения почвы">
    <code>InterSpec</code> может быть использован для помощи в определении поверхностного загрязнения, а также
    экспоненциально распределенного загрязнения в почве, используя инструмент "Подгонка активности/экранирования"
    с цилиндрическими или прямоугольными геометриями и следовыми источниками.<br/>
    Для полной информации, пожалуйста, см.:
    <a target="_blank" href="https://sandialabs.github.io/InterSpec/tutorials/#soil-contamination-and-trace-sources" style="display: block; margin-left: 25px;">https://sandialabs.github.io/InterSpec/tutorials/#soil-contamination-and-trace-sources</a>
    <br />
    Ограничение состоит в том, что на версии 1.0.12 <code>InterSpec</code> не учитывает
    угловую зависимость детектора, если не используется DRF "Фиксированная геометрия"; то есть,
    если вы использовали Ortec Detective-X для проведения измерения и DRF по умолчанию, поставляемую с
    <code>InterSpec</code>, этот эффект не учитывался бы. Однако результаты обычно
    согласуются в пределах 10% или лучше с методами/пакетами, которые правильно учитывают этот
    эффект, по крайней мере для высоких энергий.
  </message>

  <message id="out-of-equilibrium" title="Проверка того, находится ли цепь распада в равновесии">
    Несколько возможных методов для проверки статуса равновесия родительских нуклидов:
    <ul>
      <li>Использование инструмента "Изотопики из пиков" может быть хорошим способом увидеть, что
        цепь распада не в равновесии или имеет значительно отличный от предполагаемого возраст,
        потому что мы ожидаем, что эффективность детекторов будет примерно гладкой функцией
        энергии, и отклик детектора, экранирование или расстояние не нужно знать.
        Вот пример инструмента для измерения Th232 не в равновесии; здесь
        явно две отдельные кривые относительной эффективности, что не ожидалось бы
        для образца в равновесии.
        <img src="/InterSpec_resources/static_text/faqs/th232_out_of_equilibrium.png" style="max-height: 150px; max-width: 90%; display: block; margin-top: 10px; margin-bottom: 10px; margin-left: auto; margin-right: auto;" />
      </li>
      <li> Инструмент "Подгонка активности/экранирования" может использоваться для подгонки возраста родительского нуклида,
        что может дать вам время химического разделения.
      </li>
      <li> Инструмент "Опорный фотопик" может использоваться для показа линий для родительского нуклида
        в разном возрасте, с быстрым визуальным осмотром относительных высот пиков, относящихся к
        высотам линий фотопиков, иногда указывая на очевидные расхождения или даже позволяя грубые
        оценки возраста.
      </li>
      <li>Обычно вы назначаете пик родительскому нуклиду, а затем <code>InterSpec</code> позаботится
        о выполнении распада и получении правильных коэффициентов ветвления для дочерних линий.
        Однако, если вместо этого вы назначаете каждый пик нуклиду, непосредственно ответственному за эту гамму
        (например, пик 2614 кэВ Th232 будет назначен Tl208), вы можете
        затем подогнать активности потомков в инструменте "Подгонка активности/экранирования"
        чтобы выяснить, в каком нуклиде цепи распада началось прерывание (например, вы могли бы
        увидеть изменение активностей для Ra226 и ниже для цепи распада U238).
      </li>
    </ul>
  </message>

  <message id="decay-chain-assign" title="Назначить родительский нуклид пикам">
    Когда вы назначаете источниковый нуклид пику (например, вы показываете опорные линии фотопиков
    и затем подгоняете пик рядом с линией), вы обычно назначаете родительский нуклид.
    Например, пик 2614 кэВ в серии распада Th232 создается распадом Tl208,
    однако в <code>InterSpec</code> вы обычно назначили бы пик 2614 кэВ Th232
    (либо показав опорные линии фотопиков Th232 перед подгонкой, либо напечатав "Th232"
    в колонке <em>Нуклид</em> любой таблицы, показывающей информацию о пиках, либо щелкнув правой кнопкой мыши на пике
    и выбрав назначение нуклида). Когда вы это делаете,
    <code>InterSpec</code> внутренне распадает Th232 и назначает конкретный ядерный переход,
    ведущий к этому гамма-излучению, пику.<br />
    Основная мотивация для назначения пиков родительскому изотопу, а не конкретному потомку,
    который его создал, состоит в том, чтобы позволить учет различных коэффициентов ветвления по мере старения образца или
    использование интенсивностей гамма-линий от нескольких потомков для выполнения таких операций, как подгонка толщин экранирования
    или типов, используя дифференциальное ослабление.
  </message>

  <message id="default-age" title="Возрасты нуклидов по умолчанию">
    Некоторые простые эвристики используются для угадывания возрастов нуклидов по умолчанию, логика может быть найдена в
    функции <a target="_blank" href="https://github.com/sandialabs/InterSpec/blob/bbc3d420a80f03a47ec1341909421cf450624571/src/PeakDef.cpp#L3217">PeakDef::defaultDecayTime(...)</a>,
    но она примерно следует:
    <ul>
      <li>Если может быть достигнуто секулярное равновесие, будет использоваться 10 периодов полураспада секулярного равновесия, иначе 7 периодов полураспада быстрого равновесия</li>
      <li>Если вышеуказанное значение меньше половины периода полураспада родительского нуклида, то 2,5 периода полураспада родительского нуклида</li>
      <li>Если нуклид распадается на стабильные дочерние изделия, используется возраст нуль секунд</li>
      <li>Если период полураспада нуклида больше 100 лет, или для любого изотопа урана или плутония, будет использован возраст 20 лет</li>
      <li>Если после вышеперечисленного значение более 100 периодов полураспада родительского нуклида, то будет использовано 7 периодов полураспада родительского</li>
    </ul>
  </message>

  <message id="livetime-normalization" title="Нормализация переднего плана/фона и как изменить">  
    <p>
      Когда отображается фоновый или вторичный спектр, по умолчанию он нормализован по времени жизни к
      основному спектру (например, если время жизни фона в два раза больше переднего плана, то амплитуда фонового спектра
      будет разделена на 2), так что визуально спектры сравниваются согласно их <em>скорости счета</em>.
      Легенда на спектре будет указывать, насколько фоновый или вторичный спектр масштабируется, а
      показанное время жизни для фонового/вторичного спектра будет соответствовать времени переднего плана; общие счеты
      фонового/вторичного спектра, показанного в легенде, также будут масштабированы этим же коэффициентом.
    </p>
    <p>
    Вы можете настроить коэффициенты нормализации, используя либо ползунки справа от спектров,
    либо вручную вводя желаемый коэффициент масштабирования на вкладке "Файлы спектров", как показано
    обведенным красным здесь:
    <img src="/InterSpec_resources/static_text/faqs/normalize_spectra.png" style="max-height: 350px; max-width: 90%; display: block; margin-top: 10px; margin-bottom: 10px; margin-left: auto; margin-right: auto;" />
    Если вы действительно настраиваете нормализацию отличную от нормализации времени жизни, кнопка "Нормализовать",
    показанная выше (в нижнем правом углу для вторичного спектра), появится, и при нажатии
    вернет нормализацию к времени жизни.
    </p>
  </message>

  <message id="energy-cal-quick" title="Обзор выполнения калибровки энергии">
    Самый простой способ выполнить калибровку энергии в <code>InterSpec</code> часто
    заключается в подгонке одного или нескольких фотопиков, назначении нуклида им (и, следовательно, энергии гамма-линии), а затем на
    вкладке "Калибровка энергии" выбрать, какие пики использовать, и
    какие коэффициенты подгонять, и нажать кнопку "Подогнать коэфф.":
    <img src="/InterSpec_resources/static_text/faqs/energy_cal_tab.png" style="max-height: 150px; max-width: 65%; display: block; margin-top: 10px; margin-bottom: 10px; margin-left: auto; margin-right: auto;" />
    <br />
    Вкладка "Калибровка энергии" имеет гораздо больше функциональности; см. тему справки по инструменту (нажмите
    вопросительный знак в нижнем левом углу вкладки) для получения дополнительной информации.
    <p>
    Вы также можете использовать <code>CTRL + ALT</code> (или на macOS, <code>CTRL + OPT</code>) и левую кнопку мыши
    для щелчка и перетаскивания спектра визуально в правильное место.
    Если вы затем выполните это действие снова, например, сначала на высокоэнергетическом пике, затем на низкоэнергетическом пике (или наоборот),
    всплывающий диалог даст вам возможность сохранить оба действия, настроив как смещение, так и усиление,
    чтобы таким образом оба пика остались на энергиях, к которым вы их перетащили.
    </p>
    <p>Есть также возможность наследования калибровки энергии между последовательными спектрами,
      или использования файла <b>CALp</b> - см. следующую тему для получения дополнительной информации.
    </p>
  </message>

  <message id="nuc-data-origin" title="Используемые источники ядерных данных">
    Данные ядерного распада (периоды полураспада, интенсивности гамм и энергии и т.д.) в основном происходят
    из ENSDF-V, но имеют значительные дополнительные коррекции из наблюдений и
    других источников данных. Рентгеновские данные происходят из базы данных LBNL ToRI.<br />
    Вся эта информация доступна через библиотеку <code>SandiaDecay</code>
    (<a target="_blank" href="https://github.com/sandialabs/SandiaDecay">https://github.com/sandialabs/SandiaDecay</a>).
    Поперечные сечения гамм/рентгена также происходят из ENSDF.<br />
    Данные реакций происходят из различных мест, включая
    "Atlas of Gamma-Ray Spectra from the Inelastic Scattering of Reactor Fast Neutrons" (A.M. Demidov <i>et al.</i>),
    и "IAEA Prompt Gamma Activation Analysis (PGAA) database".
  </message>

  <message id="time-chart-display" title="Варианты отображения временной диаграммы">
    При отображении режима поиска или портальных данных в <code>InterSpec</code> будет показана временная диаграмма.
    Эту временную диаграмму можно использовать для выбора временных частей для суммирования как переднего плана/фона/вторичного, однако,
    если вы не делаете это регулярно, клавиатурные сочетания не запомнятся, поэтому вместо этого вы можете нажать на
    иконку <img src="/InterSpec_resources/images/more_menu_icon.svg" style="display: inline-block; height: 15px;"></img>
    в правом верхнем углу временной диаграммы для отображения несколько более удобных режимов для выбора или изменения
    временных периодов данных для использования:
    <img src="/InterSpec_resources/static_text/faqs/time_opt_int.png" style="max-height: 150px; max-width: 25%; display: block; margin-top: 10px; margin-bottom: 10px; margin-left: auto; margin-right: auto;" />
    <br />
    Вы также можете использовать вкладку "Фильтр" для фильтрации диапазона энергий, который суммируется для формирования временной диаграммы;
    также можно выбрать диапазон нормализации. Например, если выбрать суммирование между 170 keV и 200 keV,
    и нормализацию по энергиям выше 250 keV, обычно это заставит сигнал U235 действительно выделиться; на рисунке ниже
    используются те же исходные данные, но использование этого соотношения заставляет интересующий сигнал выделиться, когда
    исходная диаграмма скорости счета не показывала этого.
    <div style="border:1px solid black; width: 90%; margin-left: auto; margin-right: auto;">
      <div style="display: flex; align-content: space-around;">
          <img src="/InterSpec_resources/static_text/faqs/time_history_full_energy_range.jpg" style="height: 115px; max-width: 49.5%;" />
          <img src="/InterSpec_resources/static_text/faqs/time_history_u235_energy_range.jpg" style="height: 115px; max-width: 49.5%;" />
      </div>
      <div align="center" style="padding-top: 10px; padding-bottom: 10px">
         (слева) История времени поисковых данных без фильтра диапазона энергии.<br />
         (справа) Те же данные, но с диапазоном 170 keV до 190 keV в соотношении с 220 keV и выше.
      </div>
    </div>
    <br />
    "Опт" имеет несколько вариантов того, как строить данные; иногда "Не перебинировать" может быть полезно
    для обнаружения узких горячих точек в действительно длинных данных истории времени.<br />
    "Отн. y-макс" может быть полезно для подчеркивания (или отсутствия подчеркивания) данных гамма или нейтронов.
    Значение можно регулировать между 0.04 и 25. Значения больше 1.0 сделают диапазон y-оси нейтронов таким
    кратным диапазону данных нейтронов, без влияния на диапазон y-оси гамма. Значения меньше единицы делают аналогичное для данных гамма.
    Примеры эффектов изменения этого значения:
    <img src="/InterSpec_resources/static_text/faqs/time_char_opt_2.png" style="max-height: 150px; max-width: 65%; display: block; margin-top: 10px; margin-bottom: 10px; margin-left: auto; margin-right: auto;" />
    <img src="/InterSpec_resources/static_text/faqs/time_char_opt.png" style="max-height: 150px; max-width: 65%; display: block; margin-top: 10px; margin-bottom: 10px; margin-left: auto; margin-right: auto;" />
  </message>

  <message id="reuse-energy-cal" title="Повторное использование калибровок энергии">
    Есть два варианта повторного использования калибровки энергии от одного спектра к другому.
    <ol>
      <li>Если вы отображаете спектр, но затем открываете другой спектр с того же детектора
        (т.е., та же модель и серийный номер), но его калибровка энергии отличается от первого,
        <code>InterSpec</code> должен спросить, хотите ли вы использовать калибровку энергии из
        первого файла с недавно загруженным.
      </li>
      <li>Через использование файла "<b>CALp</b>", описанного ниже.</li>
    </ol>

    <p>
      В левом нижнем углу инструмента калибровки энергии есть ссылки для экспорта или импорта
      файлов калибровки энергии <b>CALp</b>.
      Файлы <b>CALp</b> содержат текущую информацию о калибровке энергии в простом текстовом формате и
      позволяют сохранять часто используемые калибровки энергии для легкого применения к другим файлам спектра.
      Они особенно полезны при работе с детекторами, которые либо не предоставляют калибровку энергии,
      либо предоставляют плохие калибровки энергии.<br />
      Как только вы нашли калибровку энергии, которую хотели бы использовать позже, просто нажмите/коснитесь иконки экспорта,
      показанной ниже, и сохраните файл в удобном месте в вашей файловой системе. Когда позже захотите
      повторно использовать эту калибровку энергии с другим файлом спектра, просто перетащите файл <b>CALp</b>
      на <b>InterSpec</b> и эта калибровка энергии будет применена к новому файлу спектра.
      
      <div style="padding-top: 10px; text-align: center;">
        <img src="/InterSpec_resources/static_text/images/CALp_down_up.png" style="width: 120px; display: block; margin-top: 10px; margin-bottom: 10px; margin-left: auto; margin-right: auto;" />
        <div style="clear: both; text-align: left; padding-left: 20px; padding-right: 20px;">
          Иконки для использования при экспорте или импорте файлов калибровки энергии <b>CALp</b>.
          Вы также можете перетащить файлы <b>CALp</b> из файловой системы операционной системы на
          <b>InterSpec</b> для применения файлов <b>CALp</b>.
        </div>
      </div>
    </p>
  </message>

  <message id="how-drf-model" title="Моделирование функции отклика детектора">
    <p>
    Функции отклика детектора (DRF) по умолчанию в <code>InterSpec</code>
    содержат эффективность, как функцию энергии, для полноэнергетического обнаружения гамма-излучения,
    попадающего на переднюю поверхность детектора. Предполагается, что детектор направлен
    на источник, и гамма-лучи приблизительно параллельны к тому времени, когда достигают
    детектора; на практике это означает, что расстояние между источником и детектором должно быть
    по крайней мере в 3 раза больше наибольшего из размеров детектора или источника.<br />
    DRF также содержит диаметр передней поверхности детектора (предполагая, что она круглая), чтобы
    можно было точно выполнить коррекции телесного угла.
    </p>
    <p> DRF может также содержать параметризованную FWHM детектора. Однако эта информация
      не является обязательной (многие DRF по умолчанию, поставляемые с <code>InterSpec</code>, не
      включают эту информацию), и используется, если доступна, только в качестве начальной ширины пика
      при подгонке пиков; но если эта информация недоступна, все равно делаются подходящие оценки,
      поэтому обычно это не приводит к какой-либо разнице.
    </p>
    <p> Начиная с <code>InterSpec</code> v1.0.12, есть также возможность того, что DRF
      может быть DRF "Фиксированная геометрия". Если это так, то опция <em>расстояние</em>
      не будет доступна в инструменте "Подгонка активности/экранирования", поскольку предполагается,
      что DRF уже учитывает это, любое внутреннее затухание объекта и
      эффективность детектора. Хотя вы все еще можете добавить дополнительные поглотители в
      проблему.
    </p>
    <p> Эффективность DRF внутренне представляется:
      <ul>
        <li>Набором пар энергия-эффективность, между которыми выполняется интерполяция</li>
        <li>Набором коэффициентов для уравнения:<br />
            &nbsp;&nbsp;&nbsp;&nbsp;<code>eff = exp( c0 + c1*x<sup>1</sup> + c2*x<sup>2</sup> + c3*x<sup>3</sup> + ...)</code>
        </li>
        <li>Произвольной математической формулой, которая может быть введена</li>
      </ul>
    </p>
    <p>
      В настоящее время <code>InterSpec</code> не учитывает угловую характеристику детекторов.
    </p>
  </message>

  <message id="feature-requests" title="Как запросить поддержку, новые функции или сообщить об ошибках">
    <p>
      Отзывы, запросы функций, сообщения об ошибках, критика и просто вопросы о том, как что-то сделать в
      <code>InterSpec</code>, все очень ценятся!<br />
      <br />
      Пожалуйста, напишите:
      <div style="text-align: center; font-size: larger; margin-top: 5px;"><a href="mailto:InterSpec@sandia.gov">InterSpec@sandia.gov</a></div>
    </p>
    <p>Большинство улучшений и функций, реализованных в <code>InterSpec</code> с 2019 года, были
      результатом отзывов пользователей. Много раз, когда пользователь выражал незнание
      как что-то делать или выражал фрустрацию от того, как трудно что-то делать, это привело
      к очень хорошим улучшениям. Запросы пользователей также сильно влияют на решение о том, какие
      новые функции реализовать. Все отзывы, даже если не прямые, рассматриваются серьезно
      и записываются; несколько раз после нескольких дней или недель размышлений
      отзыв, который изначально мог показаться не в рамках или применимым только к очень конкретному случаю использования,
      <em>щелкнет</em> для основного автора, и более обобщенное решение может быть реализовано,
      улучшив общий опыт.
    </p>
    <p>
      Вклады в <code>InterSpec</code> также приветствуются и высоко ценятся, либо
      через github pull-запросы, либо другими способами. Pull-запросы для мелких ошибок или исправлений
      обычно могут быть приняты довольно легко. Для больших добавлений функций, пожалуйста,
      напишите на <a href="mailto:InterSpec@sandia.gov">InterSpec@sandia.gov</a> сначала для координации,
      и вас также попросят подписать меморандум об авторстве для защиты нашей способности свободно
      распространять <code>InterSpec</code>.
    </p>
    <p><code>InterSpec</code> в основном разрабатывается и поддерживается только меньшинством
      части времени основного автора, поэтому не все может быть реализовано, или может потребоваться
      время, прежде чем к чему-то можно будет приступить.
      Ответы на электронную почту могут занять время, если автор в поездке или отпуске,
      и возможно, что ресурсы не будут доступны для предоставления запрошенной поддержки.
    </p>
  </message>

</messages>